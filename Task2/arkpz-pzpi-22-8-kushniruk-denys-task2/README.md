# Специфікація API

## Auth

API відповідає за обробку автентифікації користувачів

### POST /auth/register

Регістрація користувача

- **Summary**: Створення нового користувача в системі.
- **Request Body**:
  - `email` (string): Адреса електронної пошти користувача.
  - `password` (string): Пароль користувача.
  - `firstName` (string): Ім'я користувача.
  - `lastName` (string): Прізвище користувача.
  - `profileImage` (string): URL зображення профілю користувача.
- **Responses**:
  - `200`: Користувача успішно зареєстровано.

### POST /auth/login

Авторизація користувача

- **Summary**: Авторизація користувача в системі.
- **Request Body**:
  - `email` (string): Адреса електронної пошти користувача.
  - `password` (string): Пароль користувача.
- **Responses**:
  - `200`: Користувач успішно авторизований.

### POST /auth/logout

Вихід з аккаунту

- **Summary**: Завершення сесії користувача.
- **Responses**:
  - `200`: Користувач успішно вийшов.

## Lights

API відповідає за обробку освітлення

### GET /lights/{id}

Отримати дані про освітлення

- **Summary**: Отримати інформацію про освітлення за його ID.
- **Parameters**:
  - `id` (string): ID освітлення.
- **Responses**:
  - `200`: Дані про освітлення успішно отримано.
  - `404`: Освітлення не знайдено.

### PUT /lights/{id}/toggle

Перемикати стан освітлення

- **Summary**: Змінює стан освітлення на протилежний.
- **Parameters**:
  - `id` (string): ID освітлення.
- **Responses**:
  - `200`: Стан освітлення успішно змінено.
  - `404`: Освітлення не знайдено.

### PUT /lights/{id}/schedule

Встановити розклад для освітлення

- **Summary**: Встановлює час початку та закінчення для автоматичного включення/вимкнення освітлення.
- **Parameters**:
  - `id` (string): ID освітлення.
- **Request Body**:
  - `start` (string, date-time): Час початку.
  - `end` (string, date-time): Час завершення.
- **Responses**:
  - `200`: Розклад для освітлення успішно оновлено.
  - `404`: Освітлення не знайдено.

### PUT /lights/{id}/motion

Виявлення руху для автоматичного включення

- **Summary**: Вмикає освітлення автоматично, якщо виявлений рух.
- **Parameters**:
  - `id` (string): ID освітлення.
- **Responses**:
  - `200`: Освітлення автоматично увімкнено.
  - `404`: Освітлення не знайдено.

## Rooms

API відповідає за роботу з кімнатами

### POST /rooms/create

Створити нову кімнату

- **Summary**: Створення нової кімнати в системі.
- **Request Body**:
  - `user_id` (string): Ідентифікатор користувача.
  - `name` (string): Назва кімнати.
- **Responses**:
  - `200`: Кімната успішно створена.

### GET /rooms/info/{roomId}

Отримати інформацію про кімнату

- **Summary**: Отримання інформації про кімнату за її ID.
- **Parameters**:
  - `roomId` (string): ID кімнати.
- **Responses**:
  - `200`: Інформація про кімнату успішно отримана.
  - `404`: Кімната не знайдена.

### PUT /rooms/update/{roomId}

Оновити інформацію про кімнату

- **Summary**: Оновлення даних кімнати.
- **Parameters**:
  - `roomId` (string): ID кімнати.
- **Request Body**:
  - `user_id` (string): Ідентифікатор користувача.
  - `name` (string): Назва кімнати.
- **Responses**:
  - `200`: Кімната успішно оновлена.
  - `404`: Кімната не знайдена.

### PATCH /rooms/updateStatus/{roomId}

Оновити статус кімнати

- **Summary**: Оновлення статусу кімнати (увімкнено/вимкнено світло).
- **Parameters**:
  - `roomId` (string): ID кімнати.
- **Request Body**:
  - `status` (boolean): Статус кімнати (увімкнено/вимкнено світло).
- **Responses**:
  - `200`: Статус кімнати успішно оновлено.
  - `404`: Кімната не знайдена.

### DELETE /rooms/delete/{roomId}

Видалити кімнату

- **Summary**: Видалення кімнати з системи.
- **Parameters**:
  - `roomId` (string): ID кімнати.
- **Responses**:
  - `200`: Кімната успішно видалена.
  - `404`: Кімната не знайдена.

## Users

API відповідає за обробку обробку даних користувачів

### GET /users/info/{id}

Отримати інформацію про користувача

- **Summary**: Отримати інформацію про користувача за його ID.
- **Parameters**:
  - `id` (string): ID користувача.
- **Responses**:
  - `200`: Інформація про користувача успішно отримана.
  - `404`: Користувача не знайдено.

### PUT /users/update/{id}

Редагувати дані користувача

- **Summary**: Редагувати дані користувача за його ID.
- **Parameters**:
  - `id` (string): ID користувача.
- **Request Body**:
  - `email` (string):
  - `firstName` (string):
  - `lastName` (string):
  - `profileImage` (string):
- **Responses**:
  - `200`: Дані користувача успішно оновлені.
  - `404`: Користувача не знайдено.

## Logs

### GET /logs/info

Отримати всі логи

- **Summary**: Отримання списку всіх логів.
- **Responses**:
  - `200`: Логи успішно отримано.

### POST /logs/create

Створити новий лог

- **Summary**: Додавання нового лога до системи.
- **Request Body**:
  - `user_id` (string): ID користувача, який здійснив дію. Example: `605c72ef1532071f5f6a2b10`
  - `room_id` (string): ID кімнати, в якій відбулася дія. Example: `605c72ef1532071f5f6a2b11`
  - `action` (string): Опис дії. Example: `Ввімкнув світло`
  - `timestamp` (string, date-time): Час виконання дії.
  - `timeOn` (number): Час, коли світло було увімкнено (в секундах).
  - `timeOff` (number): Час, коли світло було вимкнено (в секундах).
  - `averageLightTime` (number): Середній час освітлення кімнати (в секундах).
- **Responses**:
  - `201`: Лог успішно створено.

### GET /logs/info/{logId}

Отримати конкретний лог за ID

- **Summary**: Отримання логу за його ID.
- **Parameters**:
  - `logId` (string): ID логу.
- **Responses**:
  - `200`: Лог успішно отримано.
  - `404`: Лог не знайдений.

### DELETE /logs/delete/{logId}

Видалити лог за ID

- **Summary**: Видалення конкретного логу за його ID.
- **Parameters**:
  - `logId` (string): ID логу.
- **Responses**:
  - `200`: Лог успішно видалено.
  - `404`: Лог не знайдений.
